[{"title":"hexo","url":"/2021/04/18/hexo/","content":"<h1 id=\"hexo使用\"><a href=\"#hexo使用\" class=\"headerlink\" title=\"hexo使用\"></a>hexo使用</h1><p>这里介绍采用hexo搭建完blog后的常用使用方法，如何搭建参考<a href=\"https://hexo.io/zh-cn/docs/\">官方手册</a>。</p>\n<h2 id=\"1-hexo常用命令\"><a href=\"#1-hexo常用命令\" class=\"headerlink\" title=\"1 hexo常用命令\"></a>1 hexo常用命令</h2><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># 安装hexo命令\nnpm install hexo -g\n\n# 升级hexo\n$ npm update hexo -g\n\n# 建站\n$ hexo init &lt;folder&gt;\n$ cd &lt;folder&gt;\n$ npm install\n\n# 新建文章\n$ hexo new &quot;post_name&quot;\n\n# 生成\n$ hexo generate\n\n# 启动预览服务，在本地游览blog\n$ hexo server\n\n# 部署\n$ hexo deploy\n\n# 清除缓存\nhexo clean<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"2-主题next的配置\"><a href=\"#2-主题next的配置\" class=\"headerlink\" title=\"2 主题next的配置\"></a>2 主题next的配置</h2><h3 id=\"1-启用分类-categories\"><a href=\"#1-启用分类-categories\" class=\"headerlink\" title=\"1 启用分类(categories)\"></a>1 启用分类(categories)</h3><p>【1】：新建对应的页面，执行命令后会在source\\categories下生产index.md文件</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">$ hexo new page &quot;categories&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>【2】：编辑index.md文件，原始index.md文件内容如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">title: categories\ndate: 2021-04-18 15:34:05<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>新增type字段，其值为“categories”：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">title: categories\ndate: 2021-04-18 15:34:05\ntype: categories<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>【3】：在站点配置文件_config.yml增加菜单</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">menu:\n  home: &#x2F;\n  archives: &#x2F;archives<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>【4】：在blog的头部增加categories字段，并设定其分类，如</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">title: hexo\ndate: 2021-04-18 13:23:33\ncategories: 博客搭建<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>如果是多分类则如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">title: hexo\ndate: 2021-04-18 13:23:33\ncategories: \n - 博客搭建\n - example<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"2-启用标签-tags\"><a href=\"#2-启用标签-tags\" class=\"headerlink\" title=\"2 启用标签(tags)\"></a>2 启用标签(tags)</h3><p>【1】：新建对应的页面，执行命令后会在source\\categories下生产index.md文件</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">$ hexo new page &quot;tags&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>【2】：编辑index.md文件，原始index.md文件内容如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">title: tags\ndate: 2021-04-18 15:34:05<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>新增type字段，其值为“tags”：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">title: tags\ndate: 2021-04-18 15:34:05\ntype: tags<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>【3】：在主题配置文件_config.yml增加菜单，如本blog采用next主题，菜单路径为themes\\next</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">menu:\n  home: &#x2F;\n  archives: &#x2F;archives\n  tags: &#x2F;tags<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>【4】：在blog的头部增加tags字段，并设定其标签，如</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">title: hexo\ndate: 2021-04-18 13:23:33\ntags: hexo<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>如果是多标签则如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">title: hexo\ndate: 2021-04-18 13:23:33\ntags: \n - hexo\n - example<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"3-文章目录\"><a href=\"#3-文章目录\" class=\"headerlink\" title=\"3 文章目录\"></a>3 文章目录</h3><p>在低版本的next主题中，会遇到文章目录，即toc，仅显示一级目录且无法跳转的问题。因此建议采用较<a href=\"https://github.com/next-theme/hexo-theme-next\">新的版本</a>，或者在网上搜索能正常显示文章目录且跳转的blog所采用的next版本。本blog当前采用v8.3.0版本。</p>\n<p>【1】:在主题配置文件\\themes\\next_config.yml中禁用自动分配目录等级</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">toc</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token comment\"># Automatically add list number to toc.</span>\n  <span class=\"token key atrule\">number</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span> <span class=\"token comment\"># 改变为false</span>\n  <span class=\"token comment\"># If true, all words will placed on next lines if header width longer then sidebar width.</span>\n  <span class=\"token key atrule\">wrap</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token comment\"># If true, all level of TOC in a post will be displayed, rather than the activated part of it.</span>\n  <span class=\"token key atrule\">expand_all</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token comment\"># Maximum heading depth of generated toc.</span>\n  <span class=\"token key atrule\">max_depth</span><span class=\"token punctuation\">:</span> <span class=\"token number\">6</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>【2】：文件目录总是显示：</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">sidebar</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Sidebar Position.</span>\n  <span class=\"token key atrule\">position</span><span class=\"token punctuation\">:</span> left\n  \n  <span class=\"token comment\"># Sidebar Display (only for Muse | Mist), available values:</span>\n  <span class=\"token comment\">#  - post    expand on posts automatically. Default.</span>\n  <span class=\"token comment\">#  - always  expand for all pages automatically.</span>\n  <span class=\"token comment\">#  - hide    expand only when click on the sidebar toggle icon.</span>\n  <span class=\"token comment\">#  - remove  totally remove sidebar including sidebar toggle.</span>\n  <span class=\"token key atrule\">display</span><span class=\"token punctuation\">:</span> always<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>注：点击文章两边的留白，文章目录会自动收缩。</p>\n<h3 id=\"4-文章版权声明\"><a href=\"#4-文章版权声明\" class=\"headerlink\" title=\"4 文章版权声明\"></a>4 文章版权声明</h3><p>在主题配置文件\\themes\\next_config.yml中按如下设置</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">creative_commons</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">license</span><span class=\"token punctuation\">:</span> by<span class=\"token punctuation\">-</span>nc<span class=\"token punctuation\">-</span>sa\n  <span class=\"token key atrule\">sidebar</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 在边栏增加版权图片</span>\n  <span class=\"token key atrule\">post</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 在文章末尾增加版权信息</span>\n  <span class=\"token key atrule\">language</span><span class=\"token punctuation\">:</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"5-首页头像\"><a href=\"#5-首页头像\" class=\"headerlink\" title=\"5 首页头像\"></a>5 首页头像</h3><p>在主题配置文件\\themes\\next_config.yml中找到avatar字段，取消其注释，并在\\themes\\next\\source\\images\\目录下放入头像的图片，如avatar_self.jpg，并改变url字段的值</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Sidebar Avatar</span>\n<span class=\"token key atrule\">avatar</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Replace the default image and set the url here.</span>\n  <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> /images/avatar_self.jpg\n  <span class=\"token comment\"># If true, the avatar will be dispalyed in circle.圆形头像</span>\n  <span class=\"token key atrule\">rounded</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token comment\"># If true, the avatar will be rotated with the cursor.光标悬浮头像会旋转</span>\n  <span class=\"token key atrule\">rotated</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"6-取消文章底部带”-”号标签\"><a href=\"#6-取消文章底部带”-”号标签\" class=\"headerlink\" title=\"6 取消文章底部带”#”号标签\"></a>6 取消文章底部带”#”号标签</h3><p>在主题配置文件\\themes\\next_config.yml中找到tag_icon字段，并按如下所示修改</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Use icon instead of the symbol # to indicate the tag at the bottom of the post</span>\n<span class=\"token key atrule\">tag_icon</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h3 id=\"7-统计游览人数\"><a href=\"#7-统计游览人数\" class=\"headerlink\" title=\"7 统计游览人数\"></a>7 统计游览人数</h3><p>在主题配置文件\\themes\\next_config.yml中找到busuanzi_count字段，并按如下所示修改</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">busuanzi_count</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">total_visitors</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">total_visitors_icon</span><span class=\"token punctuation\">:</span> fa fa<span class=\"token punctuation\">-</span>user\n  <span class=\"token key atrule\">total_views</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n  <span class=\"token key atrule\">total_views_icon</span><span class=\"token punctuation\">:</span> fa fa<span class=\"token punctuation\">-</span>eye\n  <span class=\"token key atrule\">post_views</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">post_views_icon</span><span class=\"token punctuation\">:</span> far fa<span class=\"token punctuation\">-</span>eye<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"8-搜索功能\"><a href=\"#8-搜索功能\" class=\"headerlink\" title=\"8 搜索功能\"></a>8 搜索功能</h3><p>【1】：安装插件</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">$ npm install hexo-generator-searchdb --save<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p>【2】：修改站点配置文件</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Search Config</span>\n<span class=\"token key atrule\">search</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> search.json <span class=\"token comment\">#之前就是这里出了问题导致图标错误，错误的教程是 search.xml</span>\n  <span class=\"token key atrule\">field</span><span class=\"token punctuation\">:</span> post\n  <span class=\"token key atrule\">format</span><span class=\"token punctuation\">:</span> html\n  <span class=\"token key atrule\">limit</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1000</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>【3】：修改主题配置文件</p>\n<pre class=\"line-numbers language-yaml\" data-language=\"yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Local Search</span>\n<span class=\"token comment\"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span>\n<span class=\"token key atrule\">local_search</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">enable</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span> <span class=\"token comment\"># 改为true</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Ref\"><a href=\"#Ref\" class=\"headerlink\" title=\"Ref\"></a>Ref</h2><p>1、<a href=\"https://theme-next.iissnan.com/getting-started.html\">next官方手册</a></p>\n<p>2、<a href=\"https://hexo.io/zh-cn/docs/\">hexo手册</a></p>\n","categories":["博客搭建"],"tags":["hexo"]},{"title":"qemu","url":"/2021/05/04/qemu/","content":"<h1 id=\"qemu\"><a href=\"#qemu\" class=\"headerlink\" title=\"qemu\"></a>qemu</h1><h2 id=\"1-QEMU-terms\"><a href=\"#1-QEMU-terms\" class=\"headerlink\" title=\"1. QEMU terms\"></a>1. QEMU terms</h2><h2 id=\"2-QEMU调用\"><a href=\"#2-QEMU调用\" class=\"headerlink\" title=\"2. QEMU调用\"></a>2. QEMU调用</h2><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">Usage: qemu-system-x86_64 [options] [disk_image]\n一般使用[options]：\n-h：帮助\n-version：查看版本\n-M machine：选择虚拟机,-machine -h可查看支持的虚拟机\n-cpu model：选择cpu型号，-cpu help\n-smp [cpus&#x3D;]n[,cores&#x3D;cores][,threads&#x3D;threads][,dies&#x3D;dies][,sockets&#x3D;sockets][,maxcpus&#x3D;maxcpus]：指定cpu个数、核数、线程数\n-m [size&#x3D;]megs[,slots&#x3D;n,maxmem&#x3D;size]：指定内存大小，默认为128MiB，可以通过后缀M或G指定megs单位\n-boot：启动选项，软盘（a）、硬盘（c）、光驱（D）、网卡（n），默认是从硬盘启动\n# 指定启动的linux内核：使用以下选项时，能直接指定启动的内核而不必按照在磁盘镜像中，对测试内核节省了时间\n-kernel bzImage:使用bzImage作为启动的内核镜像\n-append cmdline：启动内核时传递的参数\n-initrd file：使用file文件作为初始化ram文件系统\n-initrd &quot;file1 arg&#x3D;foo,file2&quot;\n-dtb file：设备树文件\n# 指定驱动器\n-drive option[,option[,option[,...]]]：定义一个新的驱动器，有效选项如下：\n file&#x3D;file：定义镜像文件\n if&#x3D;interface：该选项定义驱动被连接的类型，ide, scsi, sd, mtd, floppy, pflash, virtio.\n bus&#x3D;bus,unit&#x3D;unit：这些选项定义连接的驱动器定义总线数字和单位ID。\n index&#x3D;index：此选项定义驱动器连接在一个给定的接口类型列表中可用的连接器使用索引。（可能为盘符）\n media&#x3D;media：cdrom还是disk\n cyls&#x3D;c,heads&#x3D;h,secs&#x3D;s[,trans&#x3D;t]：选项同‘-hdachs’\n snapshot&#x3D;snapshot：值为&quot;on&quot; or &quot;off&quot;，允许被给的驱动器使能snapshot\n cache&#x3D;cache：值为&quot;none&quot;, &quot;writeback&quot;, or &quot;writethrough&quot; ，控制主机缓存用于访问数据块\n aio&#x3D;aio：值为&quot;threads&quot;, or &quot;native&quot; ，选择线程基于磁盘IO还是本地linux IO\n format&#x3D;format：指定磁盘格式，建议使用raw\n serial&#x3D;serial：给设备指定序列号（可能是串口，也可能和串口无关）\n addr&#x3D;addr：指定PCI地址（仅仅：if&#x3D;virtio）\n    默认情况下，连续写入缓存被用于所有的块设备，这意味着主机页缓存将被用于读和写数据，但是仅仅当数据被报知被写入存储子系统，写通知将被发送到客户机。\n    Instead of ‘-cdrom’ you can use:qemu -drive file&#x3D;file,index&#x3D;2,media&#x3D;cdrom\n    Instead of ‘-hda’, ‘-hdb’, ‘-hdc’, ‘-hdd’, you can use:\n\tqemu -drive file&#x3D;file,index&#x3D;0,media&#x3D;disk\n\tqemu -drive file&#x3D;file,index&#x3D;1,media&#x3D;disk\n\tqemu -drive file&#x3D;file,index&#x3D;2,media&#x3D;disk\n\tqemu -drive file&#x3D;file,index&#x3D;3,media&#x3D;disk\n# 显示\n-nographic：只使用命令行\n\n-fda file：\n-fdb file：使用文件作为软盘，可以使用主机的“&#x2F;dev&#x2F;fd0”\n-hda file：硬盘选项\n-hdb file：硬盘选项\n-hdc file：硬盘选项\n-hdd file：硬盘选项\n-cdrom file：光驱选项\n\n\n\n-snapshot：快照功能\n-no-fd-bootchk：禁止启动检测软盘\n-numar opts：模拟一个多节点的非统一内存访问，如果cpu内存都被忽略，资源平分\n-nographic：通常，QEMU使用SDL显示VGA输出，使用这个选项，使qemu成为简单的命令行应用程序\n-k language：键盘布局，默认是en-us\n-audio-help：声音子系统帮助显示，驱动列表，可调参数等\n-soundhw card1,card2,... or -soundhw all：使能音频并选择声卡\n-localtime：设置真实时钟为本地时钟，默认是UTC时间\n-full-screen：全屏\n-pidfile file：存储qemu进程PID到文件，用于脚本启动\n-daemonize：初始化后QEMU进程长期驻留，qemu将不从标准IO分离，除非他准备连接到他的设备中的起其中一个。这个选项用于外部程序启动qemu\n而不用去初始化静态条件。\n-option-rom file：加载一个可选ROM文件内容，用于加载像EtherBoot这样的东西。\n-mtdblock file：<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"术语\"><a href=\"#术语\" class=\"headerlink\" title=\"术语\"></a>术语</h2><p>CPU：中央处理器单元，是个大的概念集合，包含了实际处理指令的物理核core、内存控制器、PCIe控制器等。</p>\n<p>core：实际执行一条控制流的硬件执行单元，其含有独立的一整套寄存器。</p>\n<p>die：指处理器生产过程中从晶圆上切割下来的一个个小方块，电路逻辑被光刻机刻在上面，一个CPU可以包含一个及以上的die，一个die可以含有一个及以上的core。</p>\n<p>package：指包含一个或多个die的塑料/陶瓷外壳和镀金的触点，以配合你的主板。主板上的每个CPU插槽（socket），只能接受一个package。</p>\n<h2 id=\"Refs\"><a href=\"#Refs\" class=\"headerlink\" title=\"Refs\"></a>Refs</h2><ol>\n<li><a href=\"https://qemu-project.gitlab.io/qemu/\">官方手册</a></li>\n</ol>\n","categories":["qemu"]}]